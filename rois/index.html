
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../metricStandards/">
      
      
        <link rel="next" href="../mergetool/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.33">
    
    
      
        <title>Regions of Interest - Pydre documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#regions-of-interest-rois" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Pydre documentation" class="md-header__button md-logo" aria-label="Pydre documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pydre documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Regions of Interest
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Pydre documentation" class="md-nav__button md-logo" aria-label="Pydre documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Pydre documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydre_run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running the software
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metrics
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../metricStandards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SAE Standards
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Regions of Interest
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Regions of Interest
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#regions-of-interest-rois" class="md-nav__link">
    <span class="md-ellipsis">
      Regions of Interest (ROIs)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roi-csv-file-formats" class="md-nav__link">
    <span class="md-ellipsis">
      ROI CSV File Formats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ROI CSV File Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#time-roi-table-format" class="md-nav__link">
    <span class="md-ellipsis">
      Time ROI table format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#space-roi-table-format" class="md-nav__link">
    <span class="md-ellipsis">
      Space ROI table format
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydreroispy" class="md-nav__link">
    <span class="md-ellipsis">
      pydre/rois.py
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pydre/rois.py">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#timeroi__init__filename-nameprefix" class="md-nav__link">
    <span class="md-ellipsis">
      TimeROI.__init__(filename, nameprefix="")
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timeroisplitdatalist" class="md-nav__link">
    <span class="md-ellipsis">
      TimeROI.split(datalist)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spaceroi__init__filename-nameprefix" class="md-nav__link">
    <span class="md-ellipsis">
      SpaceROI.__init__(filename, nameprefix="")
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spaceroisplitdatalist" class="md-nav__link">
    <span class="md-ellipsis">
      SpaceROI.split(datalist)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mergetool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Merge Tool
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../developernotes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Notes
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#regions-of-interest-rois" class="md-nav__link">
    <span class="md-ellipsis">
      Regions of Interest (ROIs)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roi-csv-file-formats" class="md-nav__link">
    <span class="md-ellipsis">
      ROI CSV File Formats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ROI CSV File Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#time-roi-table-format" class="md-nav__link">
    <span class="md-ellipsis">
      Time ROI table format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#space-roi-table-format" class="md-nav__link">
    <span class="md-ellipsis">
      Space ROI table format
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydreroispy" class="md-nav__link">
    <span class="md-ellipsis">
      pydre/rois.py
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pydre/rois.py">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#timeroi__init__filename-nameprefix" class="md-nav__link">
    <span class="md-ellipsis">
      TimeROI.__init__(filename, nameprefix="")
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timeroisplitdatalist" class="md-nav__link">
    <span class="md-ellipsis">
      TimeROI.split(datalist)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spaceroi__init__filename-nameprefix" class="md-nav__link">
    <span class="md-ellipsis">
      SpaceROI.__init__(filename, nameprefix="")
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spaceroisplitdatalist" class="md-nav__link">
    <span class="md-ellipsis">
      SpaceROI.split(datalist)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h2 id="regions-of-interest-rois">Regions of Interest (ROIs)</h2>
<p>Each region of interest is an area of data that the user is interested in examining. This can include things such as where the car starts on the track, when the car hits a traffic jam, when the car hits construction, etc. </p>
<h2 id="roi-csv-file-formats">ROI CSV File Formats</h2>
<p>For analysis, it is often useful to define ROIs in the data.  Pydre uses csv files to define spatial and temporal ROIs.
The spatial regions are defined over the scenario course, while the temporal regions are defined per subject.</p>
<h4 id="time-roi-table-format">Time ROI table format</h4>
<table>
<thead>
<tr>
<th>Subject</th>
<th><em>ROI name 1</em></th>
<th><em>ROI name 2</em></th>
<th>...</th>
<th><em>ROI name N</em></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><em>time range</em></td>
<td><em>time range</em></td>
<td>...</td>
<td><em>time range</em></td>
</tr>
<tr>
<td>2</td>
<td><em>time range</em></td>
<td><em>time range</em></td>
<td>...</td>
<td><em>time range</em></td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>N</td>
<td><em>time range</em></td>
<td><em>time range</em></td>
<td>...</td>
<td><em>time range</em></td>
</tr>
</tbody>
</table>
<p><em><em>NOTE</em>: Time Ranges are formatted as <code>hh:mm:ss-hh:mm:ss#driveID</code> If multiple drives are used in a particular ROI, simply add a space and write in another time range in the same cell.</em></p>
<h4 id="space-roi-table-format">Space ROI table format</h4>
<table>
<thead>
<tr>
<th>ROI</th>
<th>X1</th>
<th>Y1</th>
<th>X2</th>
<th>Y2</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>ROI name</em></td>
<td><em>min x</em></td>
<td><em>min y</em></td>
<td><em>max x</em></td>
<td><em>max y</em></td>
</tr>
<tr>
<td><em>ROI name</em></td>
<td><em>min x</em></td>
<td><em>min y</em></td>
<td><em>max x</em></td>
<td><em>max y</em></td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td><em>ROI name</em></td>
<td><em>min x</em></td>
<td><em>min y</em></td>
<td><em>max x</em></td>
<td><em>max y</em></td>
</tr>
</tbody>
</table>
<p>Note: -Z corresponds to positive X, and if Y is 0 in the WRL file, set Y1 = -100, Y2 = 100.</p>
<p>The ROI will consist of the area inside the max_y - min_y and the max_x - min_x.</p>
<p>For an example file, look at spatial_rois.csv in the main pydre folder.  Once the ROI csv file has been generated, reference it in the project file (as seen in bushman_pf.json) to perform the function calculations only on the regions of interest specified by the x and y coordinates in this csv file.</p>
<h1 id="pydreroispy">pydre/rois.py</h1>
<p>Contains functions to read ROI csv files referenced by the project file. These functions take that ROI data and a list of drive data objects, extract the data that falls within the region, and return a new list of DriveData objects with only the pertinent information.</p>
<h3 id="timeroi__init__filename-nameprefix"><code>TimeROI.__init__(filename, nameprefix="")</code></h3>
<p>Creates a new Time ROI object. filename is the file containing the rois.</p>
<h3 id="timeroisplitdatalist"><code>TimeROI.split(datalist)</code></h3>
<p>Grabs relevant parts of a list of DriveData objects based on the filename used to create the object.</p>
<h3 id="spaceroi__init__filename-nameprefix"><code>SpaceROI.__init__(filename, nameprefix="")</code></h3>
<p>Creates a new Space ROI object. filename is the file containing the rois.</p>
<h3 id="spaceroisplitdatalist"><code>SpaceROI.split(datalist)</code></h3>
<p>Grabs relevant parts of a list of DriveData objects based on the filename used to create the object.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.af256bd8.min.js"></script>
      
    
  </body>
</html>